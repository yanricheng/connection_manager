<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_15) on Thu Jan 08 18:20:50 PST 2009 -->
<TITLE>
CertificateManager (Connection Manager 3.6.3 Javadoc)
</TITLE>

<META NAME="keywords" CONTENT="org.jivesoftware.util.CertificateManager class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="CertificateManager (Connection Manager 3.6.3 Javadoc)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Connection Manager 3.6.3 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/jivesoftware/util/FastDateFormat.html" title="class in org.jivesoftware.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/jivesoftware/util/CertificateManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CertificateManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.jivesoftware.util</FONT>
<BR>
Class CertificateManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.jivesoftware.util.CertificateManager</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>CertificateManager</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Utility class that provides similar functionality to the keytool tool. Generated certificates
 conform to the XMPP spec where domains are kept in the subject alternative names extension.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Gaston Dombiak</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#CertificateManager()">CertificateManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#addListener(org.jivesoftware.util.CertificateEventListener)">addListener</A></B>(<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util">CertificateEventListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a listener to receive events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.security.cert.X509Certificate</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#createDSACert(java.security.KeyStore, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createDSACert</A></B>(java.security.KeyStore&nbsp;ksKeys,
              java.lang.String&nbsp;keyPassword,
              java.lang.String&nbsp;alias,
              java.lang.String&nbsp;issuerDN,
              java.lang.String&nbsp;subjectDN,
              java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new X509 certificate using the DSA algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.security.cert.X509Certificate</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#createRSACert(java.security.KeyStore, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createRSACert</A></B>(java.security.KeyStore&nbsp;ksKeys,
              java.lang.String&nbsp;keyPassword,
              java.lang.String&nbsp;alias,
              java.lang.String&nbsp;issuerDN,
              java.lang.String&nbsp;subjectDN,
              java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new X509 certificate using the RSA algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#createSigningRequest(java.security.cert.X509Certificate, java.security.PrivateKey)">createSigningRequest</A></B>(java.security.cert.X509Certificate&nbsp;cert,
                     java.security.PrivateKey&nbsp;privKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates and returns the content of a new singing request for the specified certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#deleteCertificate(java.security.KeyStore, java.lang.String)">deleteCertificate</A></B>(java.security.KeyStore&nbsp;ksKeys,
                  java.lang.String&nbsp;alias)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes the specified certificate from the</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#getPeerIdentities(java.security.cert.X509Certificate)">getPeerIdentities</A></B>(java.security.cert.X509Certificate&nbsp;x509Certificate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the identities of the remote server as defined in the specified certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#installReply(java.security.KeyStore, java.security.KeyStore, java.lang.String, java.lang.String, java.io.InputStream, boolean, boolean)">installReply</A></B>(java.security.KeyStore&nbsp;keyStore,
             java.security.KeyStore&nbsp;trustStore,
             java.lang.String&nbsp;keyPassword,
             java.lang.String&nbsp;alias,
             java.io.InputStream&nbsp;inputStream,
             boolean&nbsp;trustCACerts,
             boolean&nbsp;validateRoot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Installs the Certificate Authority reply returned as part of the signing request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#isDSACertificate(java.security.KeyStore, java.lang.String)">isDSACertificate</A></B>(java.security.KeyStore&nbsp;ksKeys,
                 java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if an DSA certificate was found in the specified keystore for the specified domain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#isDSACertificate(java.security.cert.X509Certificate)">isDSACertificate</A></B>(java.security.cert.X509Certificate&nbsp;certificate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the specified certificate is using the DSA algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#isRSACertificate(java.security.KeyStore, java.lang.String)">isRSACertificate</A></B>(java.security.KeyStore&nbsp;ksKeys,
                 java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if an RSA certificate was found in the specified keystore for the specified domain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jivesoftware/util/CertificateManager.html#removeListener(org.jivesoftware.util.CertificateEventListener)">removeListener</A></B>(<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util">CertificateEventListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unregisters a listener to receive events.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CertificateManager()"><!-- --></A><H3>
CertificateManager</H3>
<PRE>
public <B>CertificateManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createDSACert(java.security.KeyStore, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
createDSACert</H3>
<PRE>
public static java.security.cert.X509Certificate <B>createDSACert</B>(java.security.KeyStore&nbsp;ksKeys,
                                                               java.lang.String&nbsp;keyPassword,
                                                               java.lang.String&nbsp;alias,
                                                               java.lang.String&nbsp;issuerDN,
                                                               java.lang.String&nbsp;subjectDN,
                                                               java.lang.String&nbsp;domain)
                                                        throws java.security.GeneralSecurityException,
                                                               java.io.IOException</PRE>
<DL>
<DD>Creates a new X509 certificate using the DSA algorithm. The new certificate together with its private
 key are stored in the specified key store. However, the key store is not saved to the disk. This means
 that it is up to the "caller" to save the key store to disk after new certificates have been added
 to the store.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ksKeys</CODE> - key store where the new certificate and private key are going to be stored.<DD><CODE>keyPassword</CODE> - password of the keystore.<DD><CODE>alias</CODE> - name to use when storing the certificate in the key store.<DD><CODE>issuerDN</CODE> - Issuer string e.g "O=Grid,OU=OGSA,CN=ACME"<DD><CODE>subjectDN</CODE> - Subject string e.g "O=Grid,OU=OGSA,CN=John Doe"<DD><CODE>domain</CODE> - domain of the server to store in the subject alternative name extension.
<DT><B>Returns:</B><DD>the new X509 V3 Certificate.
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createRSACert(java.security.KeyStore, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
createRSACert</H3>
<PRE>
public static java.security.cert.X509Certificate <B>createRSACert</B>(java.security.KeyStore&nbsp;ksKeys,
                                                               java.lang.String&nbsp;keyPassword,
                                                               java.lang.String&nbsp;alias,
                                                               java.lang.String&nbsp;issuerDN,
                                                               java.lang.String&nbsp;subjectDN,
                                                               java.lang.String&nbsp;domain)
                                                        throws java.security.GeneralSecurityException,
                                                               java.io.IOException</PRE>
<DL>
<DD>Creates a new X509 certificate using the RSA algorithm. The new certificate together with its private
 key are stored in the specified key store. However, the key store is not saved to the disk. This means
 that it is up to the "caller" to save the key store to disk after new certificates have been added
 to the store.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ksKeys</CODE> - key store where the new certificate and private key are going to be stored.<DD><CODE>keyPassword</CODE> - password of the keystore.<DD><CODE>alias</CODE> - name to use when storing the certificate in the key store.<DD><CODE>issuerDN</CODE> - Issuer string e.g "O=Grid,OU=OGSA,CN=ACME"<DD><CODE>subjectDN</CODE> - Subject string e.g "O=Grid,OU=OGSA,CN=John Doe"<DD><CODE>domain</CODE> - domain of the server to store in the subject alternative name extension.
<DT><B>Returns:</B><DD>the new X509 V3 Certificate.
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteCertificate(java.security.KeyStore, java.lang.String)"><!-- --></A><H3>
deleteCertificate</H3>
<PRE>
public static void <B>deleteCertificate</B>(java.security.KeyStore&nbsp;ksKeys,
                                     java.lang.String&nbsp;alias)
                              throws java.security.GeneralSecurityException,
                                     java.io.IOException</PRE>
<DL>
<DD>Deletes the specified certificate from the
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ksKeys</CODE> - key store where the certificate is stored.<DD><CODE>alias</CODE> - alias of the certificate to delete.
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPeerIdentities(java.security.cert.X509Certificate)"><!-- --></A><H3>
getPeerIdentities</H3>
<PRE>
public static java.util.List&lt;java.lang.String&gt; <B>getPeerIdentities</B>(java.security.cert.X509Certificate&nbsp;x509Certificate)</PRE>
<DL>
<DD>Returns the identities of the remote server as defined in the specified certificate. The
 identities are defined in the subjectDN of the certificate and it can also be defined in
 the subjectAltName extensions of type "xmpp". When the extension is being used then the
 identities defined in the extension are going to be returned. Otherwise, the value stored in
 the subjectDN is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>x509Certificate</CODE> - the certificate the holds the identities of the remote server.
<DT><B>Returns:</B><DD>the identities of the remote server as defined in the specified certificate.</DL>
</DD>
</DL>
<HR>

<A NAME="isRSACertificate(java.security.KeyStore, java.lang.String)"><!-- --></A><H3>
isRSACertificate</H3>
<PRE>
public static boolean <B>isRSACertificate</B>(java.security.KeyStore&nbsp;ksKeys,
                                       java.lang.String&nbsp;domain)
                                throws java.security.KeyStoreException</PRE>
<DL>
<DD>Returns true if an RSA certificate was found in the specified keystore for the specified domain.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ksKeys</CODE> - the keystore that contains the certificates.<DD><CODE>domain</CODE> - domain of the server signed by the certificate.
<DT><B>Returns:</B><DD>true if an RSA certificate was found in the specified keystore for the specified domain.
<DT><B>Throws:</B>
<DD><CODE>java.security.KeyStoreException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isDSACertificate(java.security.KeyStore, java.lang.String)"><!-- --></A><H3>
isDSACertificate</H3>
<PRE>
public static boolean <B>isDSACertificate</B>(java.security.KeyStore&nbsp;ksKeys,
                                       java.lang.String&nbsp;domain)
                                throws java.security.KeyStoreException</PRE>
<DL>
<DD>Returns true if an DSA certificate was found in the specified keystore for the specified domain.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ksKeys</CODE> - the keystore that contains the certificates.<DD><CODE>domain</CODE> - domain of the server signed by the certificate.
<DT><B>Returns:</B><DD>true if an DSA certificate was found in the specified keystore for the specified domain.
<DT><B>Throws:</B>
<DD><CODE>java.security.KeyStoreException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isDSACertificate(java.security.cert.X509Certificate)"><!-- --></A><H3>
isDSACertificate</H3>
<PRE>
public static boolean <B>isDSACertificate</B>(java.security.cert.X509Certificate&nbsp;certificate)
                                throws java.security.KeyStoreException</PRE>
<DL>
<DD>Returns true if the specified certificate is using the DSA algorithm. The DSA algorithm is not
 good for encryption but only for authentication. On the other hand, the RSA algorithm is good
 for encryption and authentication.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>certificate</CODE> - the certificate to analyze.
<DT><B>Returns:</B><DD>true if the specified certificate is using the DSA algorithm.
<DT><B>Throws:</B>
<DD><CODE>java.security.KeyStoreException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createSigningRequest(java.security.cert.X509Certificate, java.security.PrivateKey)"><!-- --></A><H3>
createSigningRequest</H3>
<PRE>
public static java.lang.String <B>createSigningRequest</B>(java.security.cert.X509Certificate&nbsp;cert,
                                                    java.security.PrivateKey&nbsp;privKey)
                                             throws java.lang.Exception</PRE>
<DL>
<DD>Creates and returns the content of a new singing request for the specified certificate. Signing
 requests are required by Certificate Authorities as part of their signing process. The signing request
 contains information about the certificate issuer, subject DN, subject alternative names and public key.
 Private keys are not included. After the Certificate Authority verified and signed the certificate a new
 certificate is going to be returned. Use <A HREF="../../../org/jivesoftware/util/CertificateManager.html#installReply(java.security.KeyStore, java.security.KeyStore, java.lang.String, java.lang.String, java.io.InputStream, boolean, boolean)"><CODE>installReply(java.security.KeyStore, java.security.KeyStore, String, String, java.io.InputStream, boolean, boolean)</CODE></A>
 to import the CA reply.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cert</CODE> - the certificate to create a signing request.<DD><CODE>privKey</CODE> - the private key of the certificate.
<DT><B>Returns:</B><DD>the content of a new singing request for the specified certificate.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="installReply(java.security.KeyStore, java.security.KeyStore, java.lang.String, java.lang.String, java.io.InputStream, boolean, boolean)"><!-- --></A><H3>
installReply</H3>
<PRE>
public static boolean <B>installReply</B>(java.security.KeyStore&nbsp;keyStore,
                                   java.security.KeyStore&nbsp;trustStore,
                                   java.lang.String&nbsp;keyPassword,
                                   java.lang.String&nbsp;alias,
                                   java.io.InputStream&nbsp;inputStream,
                                   boolean&nbsp;trustCACerts,
                                   boolean&nbsp;validateRoot)
                            throws java.lang.Exception</PRE>
<DL>
<DD>Installs the Certificate Authority reply returned as part of the signing request. The certificate
 being signed will get its certificate chain updated with the imported certificate(s). An exception
 will be thrown if the replied certificate does not match a local certificate or if the signing
 authority is not known by the server (i.e. keystore and truststore files). When <tt>trustCACerts</tt>
 is set to <tt>true</tt> then certificates present in the truststore file will be used to verify the
 identity of the entity signing the certificate. In case the reply is composed of more than one
 certificate then you can also specify if you want to verify that the root certificate in the chain
 can be trusted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>keyStore</CODE> - key store where the certificate is stored.<DD><CODE>trustStore</CODE> - key store where ca certificates are stored.<DD><CODE>keyPassword</CODE> - password of the keystore.<DD><CODE>alias</CODE> - the alias of the existing certificate being signed.<DD><CODE>inputStream</CODE> - the stream containing the CA reply.<DD><CODE>trustCACerts</CODE> - true if certificates present in the truststore file will be used to verify the
        identity of the entity signing the certificate.<DD><CODE>validateRoot</CODE> - true if you want to verify that the root certificate in the chain can be trusted
        based on the truststore.
<DT><B>Returns:</B><DD>true if the CA reply was successfully processed.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addListener(org.jivesoftware.util.CertificateEventListener)"><!-- --></A><H3>
addListener</H3>
<PRE>
public static void <B>addListener</B>(<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util">CertificateEventListener</A>&nbsp;listener)</PRE>
<DL>
<DD>Registers a listener to receive events.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the listener.</DL>
</DD>
</DL>
<HR>

<A NAME="removeListener(org.jivesoftware.util.CertificateEventListener)"><!-- --></A><H3>
removeListener</H3>
<PRE>
public static void <B>removeListener</B>(<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util">CertificateEventListener</A>&nbsp;listener)</PRE>
<DL>
<DD>Unregisters a listener to receive events.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the listener.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Connection Manager 3.6.3 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/jivesoftware/util/CertificateEventListener.html" title="interface in org.jivesoftware.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/jivesoftware/util/FastDateFormat.html" title="class in org.jivesoftware.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/jivesoftware/util/CertificateManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CertificateManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &copy; 2003-2006 Jive Software.</i>
</BODY>
</HTML>
